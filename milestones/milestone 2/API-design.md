| Action                      | Input                                                         | Preconditions                                                                                                                                                                             | Post Condition                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | API endpoint                                                                                                      |
|-----------------------------|---------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------|
| **1. Create Player**        | 1.name  2.email-ID  3.password                                | 1. Email should be valid and not previously by any other user registered.    2. Username should be valid and not previously by any other user registered.                                 | 1. Player is created. 2. Player is Logged-IN. (player_id)  3. Redirected to Game Lobby                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | POST /signup  {username, email, password}                                                                         |
| **2. Login Player**         | 1.email-ID  2.password                                        | 1. Email should be registered email-ID.    2. Password should correct for the registered email-ID.                                                                                        | 1. Player is Logged-IN.  (player_id)  2. Redirected to Game Lobby                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | POST /login  {email, password}                                                                         |
| **3. Create a Game**        | 1.player_id   2.game_id    3.created_at                       | 1. User should be in the Game Lobby. 2. User should be logged-IN with the Email-ID.                                                                                                        | 1. A new game created (created a game_id) 2. User-ID is set to the username 3. Player is redirected to the Game 4. That game list in the global lobby is updated to include the new game 5. player_id is added to game_id 6. Player is redirected to the game room where the player can start the game whenever he wants 7. A chatroom for the given game with the players is created with a chat_id.                                                                                                                                                                                                                                                 | POST /create <br><br>{ id, username, is_alive, is_started, created_at }<br><br>{Creates a new game in game table}                    |
| **4. Join a game**          | 1.user_id<br> 2.game_id<br> 3.is_started                      | 1. game_id must be a game <br>2. is_alive must be true<br>3. is_started must be false.                                                                                                     | 1. user_id is now in current_game                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | GET /:id/join<br><br>{ user_id, game_id }<br><br>{user_id is now in current_game}                                                  |
| **5. Start a game**         | 1.user_id<br>2.game_id<br>3.is_started<br>4.is_alive          | 1. Count of players in the game should be greater than or equal to 1    <br>2. user-ID Must be in the game.                                                                                | 1. The game state is updated to Active. 2. Attributes like is_started, player_turn, top_deck, populated is filled <br> 3. Cards get shuffled and drawn out                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | POST /games/:id/play  (game_id is provided in url)                                                                |
| **6. Play a card**          | 1.user_id<br>2.game_id<br>3.color<br>4.value<br>5.specialcard |1.user_id in game_users<br>2.it is user_id turn<br>3.user_id has the card in hand<br>4.user_id playing card is legal.                                                                       | 1.current_number, current_color is updated<br>2.next player's turn<br>3.current_game receives an update<br>4.players receive an emit if card is added to their hand                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | POST /games/:id/playcard  {card_id}   (game_id is provided in url, player_id is available in the session)                                 |
| **7.Draw a card from Deck** | 1.game_id 2.player_id                                         | 1. player_id is a player in game_id 2. It is player_idâ€™s turn 3. player_id with current player_turn does not have a playable card.                                                        | 1. The card_id is added to the player_id's card list.  2. If the current player still does not have a playable card then the player_turn is updated to the next player.  3. Updated game state and information about the number of cards of each player is sent to every other player.                                                                                                                                                                                                                                                                                                                                                                | POST /games/:id/draw  (game_id is provided in url, player_id is available in                                                        | POST /games/:id/callnouno  (game_id is provided in url, player_id is available in the session)                    |
| **8. Exit the game**        | 1. game_id 2.player_id                                        | 1.player_Id should be in game_id.                                                                                                                                                         | 1. shuffle player_id's cards in the deck.  2. player_id should not be in game_id after the exit.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | POST /games/:id/exit  (game_id is provided in url, player_id is available in the session)                         |
| **9. Send a chat**          | 1. game_id 2. player_id 2. message 3. timestamp               | 1.player_id should be in game_id.                                                                                                                                                          | 1.Message is sent to the chat  2. updates const data with new id, username, timestamp    3. emits the chat_message recieved                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | POST /games/:id/message {message, timestamp}  (game_id is provided in url, player_id is available in the session) |
